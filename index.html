<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no" />
  <title>Influencer Empire — Dark v3</title>
  <meta name="theme-color" content="#0b0d11"/>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://libtl.com/sdk.js" data-zone="9691940" data-sdk="show_9691940"></script>
</head>
<body>
  <div id="app">
    <header class="topbar" role="banner">
      <div class="avatar pickable" id="avatarBox" aria-label="Avatar">
        <img id="avatarImg" src="./assets/avatar1.svg" alt="avatar"/>
      </div>
      <div class="meta">
        <div class="nick" id="nickLabel">@gość</div>
        <div class="stats"><span id="levelLabel">Poziom 1</span> • <span id="badgeLabel">Odznaki: 0</span></div>
      </div>
      <button id="settingsBtn" class="iconbtn" aria-label="Profil / ustawienia" type="button">
        <img src="./assets/gear.svg" alt="" />
      </button>
    </header>

    <main class="view" id="view-start" role="region" aria-label="Start">
      <section class="trend card">
        <div class="row between">
          <div><strong>Trend:</strong> <span id="trendName">–</span></div>
          <div class="muted">kończy się za <span id="trendTime">--:--</span></div>
        </div>
        <div class="row between">
          <div class="muted">Kanał trenduje → zyski x2</div>
          <button id="btnTrendExtend" class="btn primary" type="button">+10 min (reklama)</button>
        </div>
      </section>

      <section class="card">
        <div class="row between">
          <h2>Followersi</h2>
          <div id="boostBadge" class="pill hidden">BOOST x2 • <span id="boostTime">00:00</span></div>
        </div>
        <div class="followers" id="followersLabel">0</div>
        <div class="row">
          <button id="btnClick" class="cta" type="button">KLIKNIJ, by zyskać followersów<br/><small id="perClickLabel">+1 za klik</small></button>
        </div>
      </section>

      <section class="list">
        <h3>Źródła przychodu</h3>
        <div id="sourcesList" class="vlist"></div>
      </section>

      <section class="sticky-ad">
        <button id="btnAdCollect" class="rewarded" type="button">
          OBEJRZYJ REKLAMĘ → <span class="sub">Natychmiast zbierz 1h followersów</span>
        </button>
      </section>
    </main>

    <main class="view hidden" id="view-shop" role="region" aria-label="Sklep">
      <section class="tabs" role="tablist">
        <button class="tab active" data-tab="sprzet" type="button" role="tab" aria-selected="true">Sprzęt</button>
        <button class="tab" data-tab="promocje" type="button" role="tab">Promocje</button>
        <button class="tab" data-tab="ekipa" type="button" role="tab">Ekipa</button>
        <button class="tab" data-tab="styl" type="button" role="tab">Styl</button>
      </section>
      <section id="shopGrid" class="grid"></section>

      <section class="sticky-ad">
        <button id="btnAdBoost" class="rewarded" type="button">
          REKLAMA → Podwój zyski na 5 min
        </button>
      </section>
    </main>

    <main class="view hidden" id="view-events" role="region" aria-label="Eventy i misje">
      <section class="card">
        <h3>Misje dzienne</h3>
        <ul id="missionsList" class="missions"></ul>
      </section>
      <section class="card">
        <h3>Skrzynia kolekcjonerska</h3>
        <p>Otwórz skrzynię (reklama). Zbierz karty sprzętu — z bonusami zestawów.</p>
        <button id="btnAdChest" class="rewarded" type="button">Otwórz skrzynię (reklama)</button>
        <div id="chestCooldown" class="muted"></div>
      </section>
      <section class="card">
        <h3>AFK Booster</h3>
        <p>Domyślny limit offline: 8h. Dodaj +1h (max 2×/dzień).</p>
        <button id="btnAfkBoost" class="btn primary" type="button">+1h limit offline (reklama)</button>
        <div class="muted">Dziś użyto: <span id="afkUsed">0</span>/2</div>
      </section>
    </main>

    <main class="view hidden" id="view-ranking" role="region" aria-label="Ranking">
      <section class="card">
        <h3>Ranking (tygodniowy)</h3>
        <ol id="rankingList" class="ranking"></ol>
        <p class="muted">Placeholder offline — integracja z serwerem REST w README.</p>
      </section>
    </main>

    <main class="view hidden" id="view-profile" role="region" aria-label="Profil">
      <section class="card">
        <h3>Profil</h3>
        <label>Nick: <input id="nickInput" maxlength="24" placeholder="Twój nick"/></label>
        <button id="saveNick" class="btn" type="button">Zapisz</button>
        <div class="muted">Wybierz avatar:</div>
        <div class="avatars-grid" id="avatarsGrid"></div>
      </section>
      <section class="card">
        <h3>Prestige („Status”)</h3>
        <p>Reset progresu za stały bonus do zysków.</p>
        <div class="muted">Poziom Statusu: <strong id="prestigeLvl">0</strong> • Premia: <strong id="prestigeMult">1.00×</strong></div>
        <div class="muted">Koszt: osiągnij <span id="prestigeReq">1M</span> łącznych followersów.</div>
        <button id="btnPrestige" class="btn danger" type="button">Zrób Prestige (reset + bonus)</button>
      </section>
      <section class="card">
        <h3>Kolekcja kart</h3>
        <div id="collectionStats" class="muted"></div>
        <div id="collectionGrid" class="collection-grid"></div>
      </section>
      <section class="card">
        <h3>Ustawienia</h3>
        <button id="resetBtn" class="btn danger" type="button">Zacznij od nowa (reset)</button>
      </section>
    </main>

    <nav class="navbar" role="navigation" aria-label="Główne menu">
      <button class="nav active" data-view="start" type="button" aria-controls="view-start">Start</button>
      <button class="nav" data-view="shop" type="button" aria-controls="view-shop">Sklep</button>
      <button class="nav" data-view="events" type="button" aria-controls="view-events">Eventy</button>
      <button class="nav" data-view="ranking" type="button" aria-controls="view-ranking">Ranking</button>
      <button class="nav" data-view="profile" type="button" aria-controls="view-profile">Profil</button>
    </nav>
  </div>

  <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-body">
      <h3 id="modalTitle">Reklama</h3>
      <p id="modalText">Symulacja reklamy: odliczanie <span id="adCountdown">5</span>s…</p>
      <div class="row center">
        <button id="modalClose" class="btn" type="button">Zamknij</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
